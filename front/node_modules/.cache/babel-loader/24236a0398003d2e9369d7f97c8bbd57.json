{"ast":null,"code":"import _regeneratorRuntime from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import LogReducer from'./LogReducer';import LogContext from'./LogContext';import axios from'axios';import{GET_LOG,ADD_LOG,DELETE_LOG,UPDATE_LOG,ERROR,SET_CURRENT,SET_LOADING,DELETE_TECH,SEARCH_LOG,ADD_TECH,GET_TECH,CLEAR}from'../Types';var LogState=function LogState(props){var initialState={logs:[],techs:[],loading:false,error:null,current:null,filter:null};var _useReducer=useReducer(LogReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var getLogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/logs');case 3:res=_context.sent;dispatch({type:GET_LOG,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:ERROR,payload:_context.t0.response.data.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getLogs(){return _ref.apply(this,arguments);};}();var setLoading=function setLoading(){dispatch({type:SET_LOADING});};var addLogs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(formData){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('/logs',formData);case 3:res=_context2.sent;dispatch({type:ADD_LOG,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:ERROR,payload:_context2.t0.response.data.msg});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function addLogs(_x){return _ref2.apply(this,arguments);};}();var getTechs=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get('/techs');case 3:res=_context3.sent;dispatch({type:GET_TECH,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:ERROR,payload:_context3.t0.response.data.msg});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function getTechs(){return _ref3.apply(this,arguments);};}();var clearAll=function clearAll(){dispatch({type:CLEAR});};var setCurrent=function setCurrent(data){dispatch({type:SET_CURRENT,payload:data});};var updateLogs=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(formData){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(\"/logs/\".concat(formData._id),formData);case 3:res=_context4.sent;dispatch({type:UPDATE_LOG,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:ERROR,payload:_context4.t0.response.data.msg});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function updateLogs(_x2){return _ref4.apply(this,arguments);};}();var deleteLogs=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(log){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.delete(\"/logs/\".concat(log._id));case 3:res=_context5.sent;dispatch({type:DELETE_LOG,payload:res.data});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);dispatch({type:ERROR,payload:_context5.t0.response.data.msg});case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function deleteLogs(_x3){return _ref5.apply(this,arguments);};}();var addTechs=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(formData){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.post('/techs',formData);case 3:res=_context6.sent;dispatch({type:ADD_TECH,payload:res.data});_context6.next=10;break;case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);dispatch({type:ERROR,payload:_context6.t0.response.data.msg});case 10:case\"end\":return _context6.stop();}}},_callee6,null,[[0,7]]);}));return function addTechs(_x4){return _ref6.apply(this,arguments);};}();var deleteTechs=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(tdata){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios.delete(\"/techs/\".concat(tdata._id));case 3:res=_context7.sent;dispatch({type:DELETE_TECH,payload:res.data});_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);dispatch({type:ERROR,payload:_context7.t0.response.data.msg});case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[0,7]]);}));return function deleteTechs(_x5){return _ref7.apply(this,arguments);};}();var searchLogs=function searchLogs(text){dispatch({type:SEARCH_LOG,payload:text});};return/*#__PURE__*/React.createElement(LogContext.Provider,{value:{setLoading:setLoading,getLogs:getLogs,addLogs:addLogs,getTechs:getTechs,clearAll:clearAll,setCurrent:setCurrent,updateLogs:updateLogs,deleteLogs:deleteLogs,addTechs:addTechs,deleteTechs:deleteTechs,searchLogs:searchLogs,current:state.current,error:state.error,loading:state.loading,logs:state.logs,techs:state.techs,filter:state.filter}},props.children);};export default LogState;","map":{"version":3,"sources":["/home/abdul/Documents/Reactprog/ITLogger/frontend/src/ContextAPI/LogsAPI/LogState.js"],"names":["React","useReducer","LogReducer","LogContext","axios","GET_LOG","ADD_LOG","DELETE_LOG","UPDATE_LOG","ERROR","SET_CURRENT","SET_LOADING","DELETE_TECH","SEARCH_LOG","ADD_TECH","GET_TECH","CLEAR","LogState","props","initialState","logs","techs","loading","error","current","filter","state","dispatch","getLogs","get","res","type","payload","data","response","msg","setLoading","addLogs","formData","post","getTechs","clearAll","setCurrent","updateLogs","put","_id","deleteLogs","log","delete","addTechs","deleteTechs","tdata","searchLogs","text","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport LogReducer from './LogReducer';\nimport LogContext from './LogContext';\nimport axios from 'axios';\nimport {\n    GET_LOG,\n    ADD_LOG,\n    DELETE_LOG,\n    UPDATE_LOG,\n    ERROR,\n    SET_CURRENT,\n    SET_LOADING,\n    DELETE_TECH,\n    SEARCH_LOG,\n    ADD_TECH,\n    GET_TECH,\n    CLEAR\n} from '../Types';\n\nconst LogState = props => {\n    const initialState = {\n        logs: [],\n        techs: [],\n        loading: false,\n        error: null,\n        current: null,\n        filter: null\n    };\n    const [state, dispatch] = useReducer(LogReducer, initialState);\n    const getLogs = async () => {\n        try {\n            const res = await axios.get('/logs');\n            dispatch({ type: GET_LOG, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const setLoading = () => {\n        dispatch({ type: SET_LOADING });\n    };\n    const addLogs = async formData => {\n        try {\n            const res = await axios.post('/logs', formData);\n            dispatch({ type: ADD_LOG, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const getTechs = async () => {\n        try {\n            const res = await axios.get('/techs');\n            dispatch({ type: GET_TECH, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const clearAll = () => {\n        dispatch({ type: CLEAR });\n    };\n    const setCurrent = data => {\n        dispatch({ type: SET_CURRENT, payload: data });\n    };\n    const updateLogs = async formData => {\n        try {\n            const res = await axios.put(`/logs/${formData._id}`, formData);\n            dispatch({ type: UPDATE_LOG, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const deleteLogs = async log => {\n        try {\n            const res = await axios.delete(`/logs/${log._id}`);\n            dispatch({ type: DELETE_LOG, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const addTechs = async formData => {\n        try {\n            const res = await axios.post('/techs', formData);\n            dispatch({ type: ADD_TECH, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const deleteTechs = async tdata => {\n        try {\n            const res = await axios.delete(`/techs/${tdata._id}`);\n            dispatch({ type: DELETE_TECH, payload: res.data });\n        } catch (err) {\n            dispatch({ type: ERROR, payload: err.response.data.msg });\n        }\n    };\n    const searchLogs = text => {\n        dispatch({ type: SEARCH_LOG, payload: text });\n    };\n    return (\n        <LogContext.Provider\n            value={{\n                setLoading,\n                getLogs,\n                addLogs,\n                getTechs,\n                clearAll,\n                setCurrent,\n                updateLogs,\n                deleteLogs,\n                addTechs,\n                deleteTechs,\n                searchLogs,\n                current: state.current,\n                error: state.error,\n                loading: state.loading,\n                logs: state.logs,\n                techs: state.techs,\n                filter: state.filter\n            }}\n        >\n            {props.children}\n        </LogContext.Provider>\n    );\n};\n\nexport default LogState;\n"]},"metadata":{},"sourceType":"module"}