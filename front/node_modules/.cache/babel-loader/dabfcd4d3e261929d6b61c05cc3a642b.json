{"ast":null,"code":"import _defineProperty from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/abdul/Documents/Reactprog/ITLogger/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import M from'materialize-css/dist/js/materialize.min';import LogContext from'../ContextAPI/LogsAPI/LogContext';var Edit=function Edit(){var context=useContext(LogContext);var techs=context.techs,current=context.current,updateLogs=context.updateLogs,clearAll=context.clearAll;var _useState=useState({message:'',attention:false,tech:''}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var message=data.message,attention=data.attention,tech=data.tech;var onChange=function onChange(e){setData(_objectSpread({},data,_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){if(current!==null){setData(current);}},[current]);var onSubmit=function onSubmit(e){e.preventDefault();if(message===''||tech===''){M.toast({html:'Please enter message and tech'});}else{updateLogs(data);setData({attention:false,message:'',tech:''});M.toast({html:'Message Updated!'});clearAll();}};return/*#__PURE__*/React.createElement(\"div\",{className:\"modal\",style:{width:'75%',height:'75%'},id:\"edit-log-modal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Edit System Log : \"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:message,name:\"message\",onChange:onChange}),current===null&&/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"message\",className:\"active\"},\"Log Message\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field\"},techs&&/*#__PURE__*/React.createElement(\"select\",{name:\"tech\",onChange:onChange,className:\"browser-default\",value:tech},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true},\"Select Technician\"),techs.map(function(t){return/*#__PURE__*/React.createElement(\"option\",{key:t._id,t:t},t.firstName+' '+t.lastName);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"filled-in\",value:attention,checked:attention,name:\"attention\",onChange:function onChange(e){return setData(_objectSpread({},data,{attention:!attention}));}}),/*#__PURE__*/React.createElement(\"span\",null,\"Attention Required \")))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#!\",onClick:onSubmit,className:\"modal-close waves-light blue waves-effect btn \"},\"Enter\"))));};export default Edit;","map":{"version":3,"sources":["/home/abdul/Documents/Reactprog/ITLogger/frontend/src/Components/Edit.js"],"names":["React","useState","useContext","useEffect","M","LogContext","Edit","context","techs","current","updateLogs","clearAll","message","attention","tech","data","setData","onChange","e","target","name","value","onSubmit","preventDefault","toast","html","width","height","map","t","_id","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport M from 'materialize-css/dist/js/materialize.min';\nimport LogContext from '../ContextAPI/LogsAPI/LogContext';\n\nconst Edit = () => {\n    const context = useContext(LogContext);\n    const { techs, current, updateLogs, clearAll } = context;\n    const [data, setData] = useState({\n        message: '',\n        attention: false,\n        tech: ''\n    });\n    const { message, attention, tech } = data;\n\n    const onChange = e => {\n        setData({ ...data, [e.target.name]: e.target.value });\n    };\n    useEffect(() => {\n        if (current !== null) {\n            setData(current);\n        }\n    }, [current]);\n    const onSubmit = e => {\n        e.preventDefault();\n        if (message === '' || tech === '') {\n            M.toast({ html: 'Please enter message and tech' });\n        } else {\n            updateLogs(data);\n\n            setData({\n                attention: false,\n                message: '',\n                tech: ''\n            });\n            M.toast({ html: 'Message Updated!' });\n            clearAll();\n        }\n    };\n\n    return (\n        <div\n            className='modal'\n            style={{ width: '75%', height: '75%' }}\n            id='edit-log-modal'\n        >\n            <div className='modal-content'>\n                <h4>Edit System Log : </h4>\n                <div className='row'>\n                    <div className='input-field'>\n                        <input\n                            type='text'\n                            value={message}\n                            name='message'\n                            onChange={onChange}\n                        />\n                        {current === null && (\n                            <label htmlFor='message' className='active'>\n                                Log Message\n                            </label>\n                        )}\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='input-field'>\n                        {techs && (\n                            <select\n                                name='tech'\n                                onChange={onChange}\n                                className='browser-default'\n                                value={tech}\n                            >\n                                <option value='' disabled>\n                                    Select Technician\n                                </option>\n                                {techs.map(t => (\n                                    <option key={t._id} t={t}>\n                                        {t.firstName + ' ' + t.lastName}\n                                    </option>\n                                ))}\n                            </select>\n                        )}\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='input-field'>\n                        <label>\n                            <input\n                                type='checkbox'\n                                className='filled-in'\n                                value={attention}\n                                checked={attention}\n                                name='attention'\n                                onChange={e =>\n                                    setData({ ...data, attention: !attention })\n                                }\n                            />\n                            <span>Attention Required </span>\n                        </label>\n                    </div>\n                </div>\n                <div className='modal-footer'>\n                    <a\n                        href='#!'\n                        onClick={onSubmit}\n                        className='modal-close waves-light blue waves-effect btn '\n                    >\n                        Enter\n                    </a>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}